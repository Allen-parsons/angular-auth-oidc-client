---
sidebar_position: 4
---

# Version 13 to 14

In this version we removed the `APP_INITIALIZER` ([See PR](https://github.com/damienbod/angular-auth-oidc-client/pull/1307)).
The library now does nothing until you interact with her. No loading of anything and it does not affect your applications bootstrapping process at all.
You can however explicitly preload your Auth Well-Known Endpoints with a new method called [preloadAuthWellKnownDocument](/docs/documentation/public-api#preloadauthwellknowndocumentconfigid-string). As a side effect becase the config has to be loaded first, a lot of APIs become reactive and return an Observable now.

All changes are describes below.

## `getConfiguration` now returns an Observable

Old:

```
const singleConfig = this.oidcSecurityService.getConfiguration();
```

New:

```
this.oidcSecurityService.getConfiguration().subscribe((config)=> ... );
```

## `getUserData` now returns an Observable

Old:

```
const userData = this.oidcSecurityService.getUserData();
```

New:

```
this.oidcSecurityService.getUserData().subscribe((data)=> ... );
```

## `checkAuthMultiple` does not take a `configId` parameter anymore.

If you want to check a single config, use `checkAuth` with a `configId` param instead.

Old:

```
checkAuthMultiple(url?: string, configId?: string)
```

New:

```
checkAuthMultiple(url?: string)
```

## `isAuthenticated` now returns an Observable

Old:

```
const isAuthenticated = this.oidcSecurityService.isAuthenticated();
```

New:

```
this.oidcSecurityService.isAuthenticated().subscribe((isAuthenticated)=> ... );
```

## `getAccessToken` now returns an Observable

Old:

```
const accessToken = this.oidcSecurityService.getAccessToken();
```

New:

```
this.oidcSecurityService.getAccessToken().subscribe(/*...*/);
```

## `getIdToken` now returns an Observable

Old:

```
const idToken = this.oidcSecurityService.getIdToken();
```

New:

```
this.oidcSecurityService.getIdToken().subscribe(/*...*/);
```

## `getRefreshToken` now returns an Observable

Old:

```
const refreshToken = this.oidcSecurityService.getRefreshToken();
```

New:

```
this.oidcSecurityService.getRefreshToken().subscribe(/*...*/);
```

## `getAuthenticationResult` now returns an Observable

Old:

```
const authnResult = this.oidcSecurityService.getAuthenticationResult();
```

New:

```
this.oidcSecurityService.getAuthenticationResult().subscribe(/*...*/);
```

## `getPayloadFromIdToken` now returns an Observable

Old:

```
const payload = this.oidcSecurityService.getPayloadFromIdToken();
```

New:

```
this.oidcSecurityService.getPayloadFromIdToken().subscribe(/*...*/);
```

## `setState` now returns an Observable

Old:

```
this.oidcSecurityService.setState('some-state');
```

New:

```
this.oidcSecurityService.setState('some-state').subscribe(/*...*/);
```

## `getState` now returns an Observable

Old:

```
const state = this.oidcSecurityService.getState();
```

New:

```
this.oidcSecurityService.getState().subscribe(/*...*/);
```

## `getEndSessionUrl` now returns an Observable

Old:

```
const endSessionUrl = this.oidcSecurityService.getEndSessionUrl();
```

New:

```
this.oidcSecurityService.getEndSessionUrl().subscribe(/* ... */);
```
